 
var changed = [];  //<= Shows what number changes (patterns) where made, so only effected divs opacity is resetted
intPat = [ 
[0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x16,0x26,0x25,0x24,0x23,0x22,0x21,0x20,0x10],
[0x20,0x21,0x22,0x23,0x24,0x25,0x26],
[0x00,0x10,0x20,0x21,0x22,0x23,0x13,0x03,0x04,0x05,0x06,0x16,0x26],  
[0x00,0x10,0x20,0x21,0x22,0x23,0x13,0x03,0x24,0x25,0x26,0x16,0x06],
[0x00,0x01,0x02,0x03,0x13,0x23,0x22,0x21,0x20,0x24,0x25,0x26],
[0x00,0x10,0x20,0x01,0x02,0x03,0x13,0x23,0x24,0x25,0x26,0x16,0x06],  
[0x00,0x10,0x20,0x01,0x02,0x03,0x04,0x05,0x06,0x16,0x26,0x25,0x24,0x23,0x13],
[0x00,0x10,0x20,0x21,0x22,0x23,0x24,0x25,0x26],
[0x00,0x10,0x20,0x01,0x02,0x03,0x04,0x05,0x06,0x16,0x21,0x22,0x23,0x24,0x25,0x26,0x13],  
[0x00,0x10,0x20,0x21,0x22,0x23,0x13,0x03,0x02,0x01,0x24,0x25,0x26,0x16,0x06] 
];  //<= todo fill array with arrays of hexadecimal values that correspond to div ids 


function arrTime(){

var d = Date();

var ta = d.split(" ")[4].split(":").join("").split(""); // makes an array of single digit strings

// Get rid of the seconds for now
ta.pop();
ta.pop();


var h = ta.shift();
h += ta.shift();

var hour = parseInt(h);

if (hour > 12){
	hour -= 12;
} else if (hour === 0){
	hour = 12;
}

return hour.toString().split("").concat(ta); 



}

function buildNumeral(m, n){


//todo complete this code!  
var subArr = intPat[ parseInt(m) ];  //<= selects numeral pattern to display
var cleanArr = intPat[8]; //<= selects the number 8 pattern, which is used also for resetting
var tmp = "", tmpArr = subArr;
var tm = "";


//Digit cleaner below
for (var j = 0, len = cleanArr.length; j < len; j++){

	
	
	tm = cleanArr[j];
	tm += (0x40 * n);  //<= testing...
	if (tm.toString(16).length === 1){
		tm = "0" + tm;
	}
	
	

	document.getElementById("d" + tm.toString(16) ).style.opacity = "0.91";
 }





for (var i = 0, len = subArr.length; i < len; i++){

	
	
	tmp = tmpArr[i];
	tmp += (0x40 * n);  //<= testing...
	if (tmp.length === 1){
		tmp = "0" + tmp;
	}
	
	

	document.getElementById("d" + tmp.toString(16) ).style.opacity = "0";
 }
	
	return;
}

function sayTime(){

    var t = arrTime();
	
	t.forEach( function(cur, ind){ buildNumeral(cur, ind);  });
	
	
	
	
	
	setTimeout(sayTime, 30000);
}

window.onload = sayTime;  //<= TODO Uncomment to make work!
