<!DOCTYPE html>
<html>
<head>

<title>WhatYouDid! Timer</title>

<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>




</head>
<body>

<div ng-app="wyd" ng-controller="wCon">
	<div id="clock"><h1>{{time}}</h1></div>
	
	<div class="form-group">
		<textarea class="form-control" id="text"></textarea>
		<button class="btn form--control" id="add">Add</button>
		<button class="btn form--control" id="save">Save</button>
		<button class="btn form--control" id="clear">Clear</button>
		<button class="btn form--control" id="upDown">Up / Down</button>
	</div>
	
	<div class="panel panel-default">
	<h2>{{day}}</h2>
		<div id="list">
		</div>
	</div>
	
</div>


<script>


	

	
	var wydApp = angular.module("wyd", []);
	wydApp.controller("wCon",function($scope, $interval){
		
		let updn = 1;
		

		timer = function(){ 
			$scope.time = Date().split(" ")[4].split(":").slice(0,2).join(":");
			let dt = new Date();
			$scope.day = (dt.getMonth() + 1) + "-" + dt.getDate() + "-" + dt.getFullYear();
			
			
		}
		
		timer();
		$interval(timer, 10000);
		
		$("document").ready(function(){
			$("#add").click(function(){
		
				let txt = $("#text").val();
		
				//if there is text in textarea, append text to list & clear textarea
				if ( txt.length > 1 ){
				
					if ( updn === 1){
						$("#list").append("<div class='panel panel-default'>" + $scope.time + ") " + txt + "</div>");
					} else {
						$("#list").prepend("<div class='panel panel-default'>" + $scope.time + ") " + txt + "</div>");
					}
					$("#text").val(" ");
				}
			});
			
			$("#clear").click(function(){
				$("#list").empty();
			});
			
			$("#upDown").click(function(){
				updn *= -1;   //Toggle updn between 1 and -1 to alternate sort order
			});
		});
		
	});
	
	
		function store(date, data){
			localStorage(date, data);
		}

		
	


	
</script>

</body>
</html>